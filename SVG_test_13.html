<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="author" content="雪乃☆雫">
  <meta name="keywords" content="なでしこ,なでしこv3,日本語プログラミング言語,なでしこさん">
  <meta name="description" content="日本語プログラミング言語「なでしこ３」のプログラムのこと"> 
<style>
#nako3_canvas {
  margin: 4px;
  border: 1px dotted silver;
}
.nako3_div {
  font-size: 1em;
  line-height: 1.1em;
}
.nako3_div > button {
  margin: 4px;
  padding: 4px;
  font-size: 0.9em;
}
.nako3_div input[type=checkbox] {
  padding: 4px;
  margin: 4px;
}
</style>
  <title>なでしこさん</title>
</head>

<body>

<!-- なでしこの実行エンジン -->
<script defer type="text/javascript" src="https://nadesi.com/v3/cdn.php?v=3.3.60&f=release/wnako3.js&run"></script>

<!-- なでしこのプログラム -->
<script type="なでしこ">
#---テスト用初期設定--------------------------
プログラムタイトルは『画像処理テスト』
「title」にプログラムタイトルをテキスト設定。
「#nako3_div」へDOM親要素設定。
#-----------------------------------------------
!『https://snowdrops89.github.io/SVG_nako3/SVG.nako3』を取り込む。

#------------------------
＃画像処理フィルターテスト
#------------------------
母艦＝DOM親要素。
フィルターテストsvg＝[640,480]のSVG親要素作成。
#画像
画像URL＝「https://n3s.nadesi.com/image.php?f=8.jpg」
撫子＝[0,0,640,480]へ画像URLをSVG画像描画。

定義領域＝フィルターテストsvgにSVG定義領域作成。
フィルター＝定義領域にSVGフィルター作成。

母艦にDOM親要素設定。改行作成。
#UI作成
「linear」のチェックボックス作成して、linearチェックに代入。
linearチェックの「checked」にオンをDOM属性設定。
改行作成。
「白黒」のボタン作成して、白黒ボタンに代入。
「セピア」のボタン作成して、セピアボタンに代入。
「反転」のボタン作成して、反転ボタンに代入。
「ガンマ補正」のボタン作成して、ガンマ補正ボタンに代入。
「ボカシ」のボタン作成して、ボカシボタンに代入。
「シャープ」のボタン作成して、シャープボタンに代入。
改行作成。
「モザイク」のボタン作成して、モザイクボタンに代入。
「コントラスト」のボタン作成して、コントラストボタンに代入。
「明度補正」のボタン作成して、明度ボタンに代入。
「彩度補正」のボタン作成して、彩度ボタンに代入。
「色相回転」のボタン作成して、色相ボタンに代入。
改行作成。
「元画像」のボタン作成して、元画像ボタンに代入。

●linearとは
    linearチェックの「checked」をDOM属性取得。
ここまで。

コントラストボタンをクリックした時には
    もし、linear≠オンならば、フィルターにて撫子を0.45でSVG画像ガンマ補正。
    フィルターにて撫子を2でSVG画像コントラスト。
    もし、linear≠オンならば、フィルターにて撫子を2.2でSVG画像ガンマ補正。
ここまで。

明度ボタンをクリックした時には
    //撫子の「filter」に「brightness(2)」をDOMスタイル設定。
    もし、linear≠オンならば、フィルターにて撫子を0.45でSVG画像ガンマ補正。
    フィルターにて撫子を2でSVG画像明度補正。
    もし、linear≠オンならば、フィルターにて撫子を2.2でSVG画像ガンマ補正。
ここまで。

彩度ボタンをクリックした時には
    もし、linear≠オンならば、フィルターにて撫子を0.45でSVG画像ガンマ補正。
    フィルターにて撫子を0.5でSVG画像彩度補正。
    もし、linear≠オンならば、フィルターにて撫子を2.2でSVG画像ガンマ補正。
ここまで。

色相ボタンをクリックした時には
    もし、linear≠オンならば、フィルターにて撫子を0.45でSVG画像ガンマ補正。
    フィルターにて撫子を90でSVG画像色相回転。
    もし、linear≠オンならば、フィルターにて撫子を2.2でSVG画像ガンマ補正。
ここまで。

白黒ボタンをクリックした時には
    もし、linear≠オンならば、フィルターにて撫子を0.45でSVG画像ガンマ補正。
    フィルターにて撫子をSVG画像グレイスケール。
    もし、linear≠オンならば、フィルターにて撫子を2.2でSVG画像ガンマ補正。
ここまで。

セピアボタンをクリックした時には
    もし、linear≠オンならば、フィルターにて撫子を0.45でSVG画像ガンマ補正。
    フィルターにて撫子を「#FFCC99」でSVG画像セピア。
    もし、linear≠オンならば、フィルターにて撫子を2.2でSVG画像ガンマ補正。
ここまで。

反転ボタンをクリックした時には
    もし、linear≠オンならば、フィルターにて撫子を0.45でSVG画像ガンマ補正。
    フィルターにて撫子をSVG画像ネガポジ。
    もし、linear≠オンならば、フィルターにて撫子を2.2でSVG画像ガンマ補正。
ここまで。

ガンマ補正ボタンをクリックした時には
    フィルターにて撫子を0.45でSVG画像ガンマ補正。
ここまで。

モザイクボタンをクリックした時には
    フィルターにて撫子へ10でSVG画像モザイク。
ここまで。

ボカシボタンをクリックした時には
    フィルターにて撫子へ10のSVG画像ボカシ。
ここまで。

シャープボタンをクリックした時には
    フィルターにて撫子へ10のSVG画像シャープ。
ここまで。


元画像ボタンをクリックした時には
    撫子の「filter」に空をSVG属性設定。
    フィルターに空をHTML設定。
ここまで。
#-----------------------------------------------
</script>
<div id='nako3_div' class='nako3_div'></div>
<noscript>
このプログラムは、日本語プログラミング言語「なでしこ３」で作成しています。<BR>
Javascriptの動作する環境が必要です。Javascriptを有効にして下さい。<P>
【対応ブラウザ】<BR>
　・HTML5対応ブラウザ (Chrome /Safari /Edge /Firefox 等)<BR>
　・スマホブラウザ (iOS Safari / Android標準ブラウザ)
</noscript>
</body>
</html>
